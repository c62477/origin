<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta http-equiv="content-type" content="text/html;charset=UTF-8">
   <style type="text/css">
   /*CSS stylesheet is based on killwing's flavored markdown style:https://gist.github.com/2937864*/body{    margin: 0 auto;    font: 13px/1.231 Helvetica, Arial, sans-serif;    color: #444444;    line-height: 1;    max-width: 960px;    padding: 5px;}h1, h2, h3, h4 {    color: #111111;    font-weight: 400;}h1, h2, h3, h4, h5, p {    margin-bottom: 16px;    padding: 0;}h1 {    font-size: 28px;}h2 {    font-size: 22px;    margin: 20px 0 6px;}h3 {    font-size: 21px;}h4 {    font-size: 18px;}h5 {    font-size: 16px;}a {    color: #0099ff;    margin: 0;    padding: 0;    vertical-align: baseline;}a:link,a:visited{ text-decoration:none;}a:hover{ text-decoration:underline;}ul, ol {    padding: 0;    margin: 0;}li {    line-height: 24px;    margin-left: 44px;}li ul, li ul {    margin-left: 24px;}ul, ol {    font-size: 14px;    line-height: 20px;    max-width: 540px;}p {    font-size: 14px;    line-height: 20px;    max-width: 540px;    margin-top: 3px;}pre {    padding: 0px 4px;    max-width: 800px;    white-space: pre-wrap;    font-family: Consolas, Monaco, Andale Mono, monospace;    line-height: 1.5;    font-size: 13px;    border: 1px solid #ddd;    background-color: #f7f7f7;    border-radius: 3px;}code {    font-family: Consolas, Monaco, Andale Mono, monospace;    line-height: 1.5;    font-size: 13px;    border: 1px solid #ddd;    background-color: #f7f7f7;    border-radius: 3px;}pre code {    border: 0px;}aside {    display: block;    float: right;    width: 390px;}blockquote {    border-left:.5em solid #40AA53;    padding: 0 2em;    margin-left:0;    max-width: 476px;}blockquote  cite {    font-size:14px;    line-height:20px;    color:#bfbfbf;}blockquote cite:before {    content: '\2014 \00A0';}blockquote p {      color: #666;    max-width: 460px;}hr {    height: 1px;    border: none;    border-top: 1px dashed #0066CC}button,input,select,textarea {  font-size: 100%;  margin: 0;  vertical-align: baseline;  *vertical-align: middle;}button, input {  line-height: normal;  *overflow: visible;}button::-moz-focus-inner, input::-moz-focus-inner {  border: 0;  padding: 0;}button,input[type="button"],input[type="reset"],input[type="submit"] {  cursor: pointer;  -webkit-appearance: button;}input[type=checkbox], input[type=radio] {  cursor: pointer;}/* override default chrome & firefox settings */input:not([type="image"]), textarea {  -webkit-box-sizing: content-box;  -moz-box-sizing: content-box;  box-sizing: content-box;}input[type="search"] {  -webkit-appearance: textfield;  -webkit-box-sizing: content-box;  -moz-box-sizing: content-box;  box-sizing: content-box;}input[type="search"]::-webkit-search-decoration {  -webkit-appearance: none;}label,input,select,textarea {  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;  font-size: 13px;  font-weight: normal;  line-height: normal;  margin-bottom: 18px;}input[type=checkbox], input[type=radio] {  cursor: pointer;  margin-bottom: 0;}input[type=text],input[type=password],textarea,select {  display: inline-block;  width: 210px;  padding: 4px;  font-size: 13px;  font-weight: normal;  line-height: 18px;  height: 18px;  color: #808080;  border: 1px solid #ccc;  -webkit-border-radius: 3px;  -moz-border-radius: 3px;  border-radius: 3px;}select, input[type=file] {  height: 27px;  line-height: 27px;}textarea {  height: auto;}/* grey out placeholders */:-moz-placeholder {  color: #bfbfbf;}::-webkit-input-placeholder {  color: #bfbfbf;}input[type=text],input[type=password],select,textarea {  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;  transition: border linear 0.2s, box-shadow linear 0.2s;  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);}input[type=text]:focus, input[type=password]:focus, textarea:focus {  outline: none;  border-color: rgba(82, 168, 236, 0.8);  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);}/* buttons */button {  display: inline-block;  padding: 4px 14px;  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;  font-size: 13px;  line-height: 18px;  -webkit-border-radius: 4px;  -moz-border-radius: 4px;  border-radius: 4px;  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);  background-color: #0064cd;  background-repeat: repeat-x;  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);  background-image: -o-linear-gradient(top, #049cdb, #0064cd);  background-image: linear-gradient(top, #049cdb, #0064cd);  color: #fff;  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);  border: 1px solid #004b9a;  border-bottom-color: #003f81;  -webkit-transition: 0.1s linear all;  -moz-transition: 0.1s linear all;  transition: 0.1s linear all;  border-color: #0064cd #0064cd #003f81;  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);}button:hover {  color: #fff;  background-position: 0 -15px;  text-decoration: none;}button:active {  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);}button::-moz-focus-inner {  padding: 0;  border: 0;}/* table  */table {    border-spacing: 0;    border: 1px solid #ccc;}td, th{    border: 1px solid #ccc;    padding: 5px;}/* code syntax highlight.Documentation: http://www.mdcharm.com/documentation/code_syntax_highlighting.html#custom_your_own */pre .literal,pre .comment,pre .template_comment,pre .diff .header,pre .javadoc {    color: #008000;}pre .keyword,pre .css .rule .keyword,pre .winutils,pre .javascript .title,pre .nginx .title,pre .subst,pre .request,pre .status {    color: #0000FF;    font-weight: bold}pre .number,pre .hexcolor,pre .python .decorator,pre .ruby .constant {    color: #0000FF;}pre .string,pre .tag .value,pre .phpdoc,pre .tex .formula {    color: #D14}pre .title,pre .id {    color: #900;    font-weight: bold}pre .javascript .title,pre .lisp .title,pre .clojure .title,pre .subst {    font-weight: normal}pre .class .title,pre .haskell .type,pre .vhdl .literal,pre .tex .command {    color: #458;    font-weight: bold}pre .tag,pre .tag .title,pre .rules .property,pre .django .tag .keyword {    color: #000080;    font-weight: normal}pre .attribute,pre .variable,pre .lisp .body {    color: #008080}pre .regexp {    color: #009926}pre .class {    color: #458;    font-weight: bold}pre .symbol,pre .ruby .symbol .string,pre .lisp .keyword,pre .tex .special,pre .prompt {    color: #990073}pre .built_in,pre .lisp .title,pre .clojure .built_in {    color: #0086b3}pre .preprocessor,pre .pi,pre .doctype,pre .shebang,pre .cdata {    color: #999;    font-weight: bold}pre .deletion {    background: #fdd}pre .addition {    background: #dfd}pre .diff .change {    background: #0086b3}pre .chunk {    color: #aaa}pre .markdown .header {    color: #800;    font-weight: bold;}pre .markdown .blockquote {    color: #888;}pre .markdown .link_label {    color: #88F;}pre .markdown .strong {    font-weight: bold;}pre .markdown .emphasis {    font-style: italic;}
   </style>
   
   
</head>
<body>
    <h1>海外SDK服务端文档</h1>

<h3>一、接口声明</h3>

<blockquote>
<p>接口编码：UTF-8编码</p>

<p>请求方式：POST/GET</p>

<p>接口统一返回json格式数据：</p>

<p>{&quot;code&quot;:&quot;状态码&quot;,&quot;msg&quot;:&quot;提示信息&quot;,&quot;data&quot;:&quot;业务数据&quot;}</p>
</blockquote>

<p>注：code=200代表数据正常，其它值都代表失败或数据不正确，客户端需根据返回的code进行逻辑判断。</p>

<blockquote>
<p>签名规则：</p>
</blockquote>

<p>将“sign”和值为空除外的所有参数按key进行字典升序排列，排序后的参数(key=value)用&amp;拼接起来得到AString字符串，将AString拼接&amp;后，再拼接给到的signkey得到BString字符串，最后将BString进行MD5加密，就得到sign了。</p>

<pre><code class="php">例：
    参数 a=123, b=tony, singKey=xh@rastargame
    则 AString = "a=<span class="number">1</span>23&amp;b=tony"
    则 BString = "a=123&amp;b=tony&amp;xh@rastargame"
    即 sign = md5("a=123&amp;b=tony&amp;xh@rastargame")
</code></pre>

<h3>二、初始化接口说明</h3>

<h4>a) SDK初始化接口</h4>

<blockquote>
<p>此接口用于在SDK初始化时调用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Init/doInit">https://osuser.rastargames.com/v1/Init/doInit</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道商ID</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏ID</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>Y</td>
<td>--</td>
<td>sdk版本名</td>
</tr>
<tr>
<td>app_ver</td>
<td>Y</td>
<td>--</td>
<td>游戏版本名</td>
</tr>
<tr>
<td>app_vercode</td>
<td>Y</td>
<td>--</td>
<td>游戏版本号</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>mac</td>
<td>Y</td>
<td>--</td>
<td>安卓</td>
</tr>
<tr>
<td>imei</td>
<td>Y</td>
<td>--</td>
<td>安卓</td>
</tr>
<tr>
<td>idfa</td>
<td>Y</td>
<td>--</td>
<td>IOS</td>
</tr>
<tr>
<td>idfv</td>
<td>Y</td>
<td>--</td>
<td>IOS</td>
</tr>
<tr>
<td>app_device</td>
<td>Y</td>
<td>--</td>
<td>游戏的唯一设备标识</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "api</span>": <span class="value">{//api<span class="attribute">
        "log</span>": <span class="value">{<span class="attribute">
            "device_log</span>": <span class="value"><span class="string">""</span></span>,//设备收集接口
           <span class="attribute"> "role_log": "",//角色信息收集接口
            "sdkrun_log": "",//SDK运行信息收集接口
            "sdkerror_log": ""//SDK错误信息收集接口
            "enter_game_log": ""//进入游戏日志
        },
        "user": {
            'login': '', // 登录
            'acount_reg': '', // 游客注册登录
            'bind_info': '', // 绑定
            'send_email': '', // 发送验证码
            'valid_email': '', // 验证邮箱
            'change_bind': '', // 邮箱改绑
            'change_pwd': '', // 更改邮箱密码
            'get_bind_info': '', // 获取绑定信息
            'unbind_url': '', // 解除绑定信息
            'silent_login': '', // 静默登录
            'verify_bind_email': '', // 验证邮箱是否绑定
        },
        "pay": {
            "create_order": "",//下单接口
            "paycenter": "",//预留字段
        }
    },
    "web": {
        'user_agreement': "",//用户协议
    },
    "device": "",
    "update": {// 更新
        "code":2,//2表示强更
        "desc":"",//更新说明
        "update_url": ""//更新地址
    }
}
</span></span></span></span></span></code></pre>

<h3>三、用户中心相关接口说明</h3>

<h4>a) SDK游客注册接口</h4>

<blockquote>
<p>此接口用于游客注册</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/accountReg">https://osuser.rastargames.com/v1/User/accountReg</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Login success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{<span class="attribute">
        "access_token</span>":<span class="value"><span class="string">"用户token",
        "u_info":{
            "</span>uid":用户id,
            "uname":用户名</span>,
       <span class="attribute">     "vname":,
            "bind_info":[
                "game_center":true/false;
                "google_play":true/false;
                "face_book":true/false;
                "email":true/false;
            ],
        },
    }
}
</span></span></span></code></pre>

<h4>b) GameCenter/GooglePlay/Facebook 绑定接口</h4>

<blockquote>
<p>此接口用于绑定GameCenter/GooglePlay/Facebook 账号</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Bind/bindInfo">https://osuser.rastargames.com/v1/Bind/bindInfo</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>用户信息+vname(第三方账号id[facebook时用access_token]) + bind_type 一起加密)</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>bind_vinfo</td>
<td>Y</td>
<td>--</td>
<td>第三方账号绑定信息</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：bind_typ为: 1（GameCenter）,2（Google Play）,3（Facebook）</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"bound success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>c) Email 绑定接口</h4>

<blockquote>
<p>此接口用于绑定邮箱</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Bind/bindInfo">https://osuser.rastargames.com/v1/Bind/bindInfo</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>用户信息 + vname(邮箱) + bind_type + pwd一起加密</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>vcode</td>
<td>Y</td>
<td>--</td>
<td>邮箱验证码</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：bind_type = 4</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"bound success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>d) 邮箱 登录/绑定/改绑/改密 发送验证码接口</h4>

<blockquote>
<p>此接口用于发送邮件验证码</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/sendEmail">https://osuser.rastargames.com/v1/User/sendEmail</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(用户信息 + vname:(邮箱地址) 一起加密)</td>
</tr>
<tr>
<td>type</td>
<td>Y</td>
<td>--</td>
<td>绑定类型</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：type为：login(登录), change_bind(改绑邮箱), bind(绑定邮箱), forget_pwd(忘记邮箱密码)</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Send vcode success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>e) GameCenter/GooglePlay/facebook  登录接口</h4>

<blockquote>
<p>用户GameCenter/GooglePlay/facebook 登录时使用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/login">https://osuser.rastargames.com/v1/User/login</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>vname = 第三方账号id[facebook时用access_token] + bind_type ,  加密</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>type</td>
<td>Y</td>
<td>--</td>
<td>登录类型</td>
</tr>
<tr>
<td>bind_vinfo</td>
<td>Y</td>
<td>--</td>
<td>第三方账号绑定信息</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：</p>

<ul>
<li>type为：1(验证码登录), 2(密码登录), 3(其他登录)</li>
<li>bind_type为：1(GameCenter), 2(Google Play), 3(Facebook), 4(Email)</li>
</ul>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Login success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{<span class="attribute">
        "access_token</span>":<span class="value"><span class="string">"用户token",
        "u_info":"用户基本信息",
    }
}
</span></span></span></span></code></pre>

<h4>f) 切换登录(email密码/email验证码登录)接口</h4>

<blockquote>
<p>此接口用于切换登录email密码/验证码登录时使用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/login">https://osuser.rastargames.com/v1/User/login</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>vname = 第三方账号id[facebook时用access_token] + bind_type ,  加密</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>type</td>
<td>Y</td>
<td>--</td>
<td>登录类型</td>
</tr>
<tr>
<td>vcode</td>
<td>N</td>
<td>--</td>
<td>邮箱验证码（验证码登录时必传）</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：</p>

<ul>
<li>type为：1(验证码登录), 2(密码登录), 3(其他登录)</li>
<li>bind_type为：1(GameCenter), 2(Google Play), 3(Facebook), 4(Email)</li>
</ul>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Login success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{<span class="attribute">
        "access_token</span>":<span class="value"><span class="string">"用户token",
        "u_info":"用户基本信息",
    }
}
</span></span></span></span></code></pre>

<h4>g) email 校验验证码（改绑邮箱、忘记密码）接口</h4>

<blockquote>
<p>此接口用于改绑邮箱、忘记密码 校验验证码时使用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Change/validEmail">https://osuser.rastargames.com/v1/Change/validEmail</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>用户信息(当需要输入邮箱时加上email:用户输入的邮箱，一起加密)</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>vcode</td>
<td>Y</td>
<td>--</td>
<td>邮箱验证码</td>
</tr>
<tr>
<td>type</td>
<td>Y</td>
<td>--</td>
<td>验证码类型</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：type为：login(登录), change_bind(改绑邮箱), bind(绑定邮箱), forget_pwd(忘记邮箱密码)</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Verify success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>h) 邮箱改绑接口</h4>

<blockquote>
<p>此接口用于邮箱改绑时使用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Change/changeBind">https://osuser.rastargames.com/v1/Change/changeBind</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(用户信息 + vname(邮箱) + bind_type + pwd(邮箱密码)一起加密)</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>vcode</td>
<td>Y</td>
<td>--</td>
<td>邮箱验证码</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：bind_type = 4</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Change bound success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>i) 更改邮箱密码接口</h4>

<blockquote>
<p>此接口用于更改邮箱密码</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Change/changePwd">https://osuser.rastargames.com/v1/Change/changePwd</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(pwd(邮箱密码),vname(邮箱地址)一起加密)</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Change password success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>j) 获取绑定信息</h4>

<blockquote>
<p>此接口用于更改邮箱密码</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/getBindInfo">https://osuser.rastargames.com/v1/User/getBindInfo</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>access_token</td>
<td>Y</td>
<td>--</td>
<td>加密token</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"get bindinfo success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{<span class="attribute">
        "bind_info</span>":<span class="value"><span class="string">"绑定信息"</span></span>,
    }
}
</span></code></pre>

<h4>k) facebook解绑接口</h4>

<blockquote>
<p>此接口用于facebook解绑</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Bind/unBind">https://osuser.rastargames.com/v1/Bind/unBind</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(用户信息 + bind_type 一起加密)</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：bind_type = 3</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"unbound success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{}
}
</span></code></pre>

<h4>l) 静默登录接口</h4>

<blockquote>
<p>用户静默登录时使用</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/User/silentLogin">https://osuser.rastargames.com/v1/User/silentLogin</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(用户信息</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Login success!"</span></span>,<span class="attribute">
    "data</span>":<span class="value">{<span class="attribute">
        "access_token</span>":<span class="value"><span class="string">"用户token",
        "u_info":"用户基本信息",
    }
}
</span></span></span></span></code></pre>

<h4>m) 验证邮箱是否已绑定接口</h4>

<blockquote>
<p>用户验证邮箱是否已绑定</p>

<p>请求地址：<a href="https://osuser.rastargames.com/v1/Bind/validBindEmail">https://osuser.rastargames.com/v1/Bind/validBindEmail</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>时间戳</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名(签名规则)</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>应用id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>媒体id</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>(用户信息 + vname(邮箱地址)+type(类型))</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备id</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK 版本</td>
</tr>
</tbody></table>

<p>注：type：forget_pwd(忘记密码、验证码登录),bind(邮箱绑定、邮箱更改绑定)</p>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"Allow binding(允许绑定)",
    "data":{}

}
</span></span></code></pre>

<h3>四、充值相关接口说明</h3>

<h4>a) 应用充值下单接口</h4>

<blockquote>
<p>此接口用于生成商户订单号</p>

<p>请求地址：<a href="https://osapppay.rastargames.com/v1/Channel/createOrder">https://osapppay.rastargames.com/v1/Channel/createOrder</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道商ID</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏ID</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>access_token</td>
<td>Y</td>
<td>--</td>
<td>登录token</td>
</tr>
<tr>
<td>order_amt</td>
<td>Y</td>
<td>--</td>
<td>下单金额</td>
</tr>
<tr>
<td>currency</td>
<td>Y</td>
<td>--</td>
<td>货币（货币标准符号，例：人民币 CNY）</td>
</tr>
<tr>
<td>app_order_no</td>
<td>Y</td>
<td>--</td>
<td>游戏订单号</td>
</tr>
<tr>
<td>role_id</td>
<td>Y</td>
<td>--</td>
<td>角色ID</td>
</tr>
<tr>
<td>role_name</td>
<td>Y</td>
<td>--</td>
<td>角色名</td>
</tr>
<tr>
<td>role_level</td>
<td>Y</td>
<td>--</td>
<td>角色等级</td>
</tr>
<tr>
<td>server_id</td>
<td>Y</td>
<td>--</td>
<td>服务器id（整型）</td>
</tr>
<tr>
<td>server_name</td>
<td>Y</td>
<td>--</td>
<td>服务器名称</td>
</tr>
<tr>
<td>app_subject</td>
<td>Y</td>
<td>--</td>
<td>商品名称</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>app_ext</td>
<td>N</td>
<td>--</td>
<td>游戏透传参数（最多255个字符）</td>
</tr>
<tr>
<td>cch_pay_data</td>
<td>N</td>
<td>--</td>
<td></td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>sdk版本</td>
</tr>
<tr>
<td>os</td>
<td>N</td>
<td>--</td>
<td>平台系统：ios/andriod</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"success"</span></span>,<span class="attribute">
    "data</span>": <span class="value">{<span class="attribute">
        "cch_data</span>": <span class="value">{<span class="attribute">
            "product_id</span>": <span class="value"><span class="string">"商品id",
            "</span>env": 应用环境:1为正式环境，0为测试环境,
            "notify_url": "充值成功发货地址",
            "check_bills_url":"验证票据地址（只有Google Play有）"
        },
        "r_order_no": "订单号",
        "device": "设备信息"
    }
}
</span></span></span></span></span></code></pre>

<h4>b) Google Play充值票据验证接口</h4>

<blockquote>
<p>此接口用于Google Play的充值票据验证</p>

<p>请求地址：a)接口中返回的check_bills_url参数为该接口地址</p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>access_token</td>
<td>Y</td>
<td>--</td>
<td>登录token</td>
</tr>
<tr>
<td>r_order_no</td>
<td>Y</td>
<td>--</td>
<td>订单号</td>
</tr>
<tr>
<td>receipt_data</td>
<td>Y</td>
<td>--</td>
<td>票据数据</td>
</tr>
<tr>
<td>receipt_sign</td>
<td>Y</td>
<td>--</td>
<td>票据签名</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>参数签名</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"success"</span></span>,<span class="attribute">
    "data</span>": <span class="value">{<span class="attribute">
        "r_order_no" =&gt; '',//我方订单号
        "g_order_no" =&gt; '',//第三方订单号
    }
}
</span></span></span></code></pre>

<h4>c) 充值成功回调发货接口</h4>

<blockquote>
<p>此接口用于充值成功，回调通知发货</p>

<p>请求地址：a)接口中返回的notify_url参数为该接口地址</p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>access_token</td>
<td>Y</td>
<td>--</td>
<td>登录token</td>
</tr>
<tr>
<td>r_order_no</td>
<td>Y</td>
<td>--</td>
<td>订单号</td>
</tr>
<tr>
<td>receipt_data</td>
<td>Y</td>
<td>--</td>
<td>回调数据</td>
</tr>
<tr>
<td>receipt_sign</td>
<td>Y</td>
<td>--</td>
<td>Google Play返回的内容的签名（IOS忽略）</td>
</tr>
<tr>
<td>consume_code</td>
<td>Y</td>
<td>--</td>
<td>Google Play消耗状态（IOS忽略）</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>参数签名</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
    "code</span>": <span class="value"><span class="number">200</span></span>,<span class="attribute">
    "msg</span>": <span class="value"><span class="string">"充值成功",
    "data": {
        "r_order_no" =&gt; '',//我方订单号
        "g_order_no" =&gt; '',//第三方订单号
    }
}
</span></span></code></pre>

<h3>五、数据收集相关接口说明</h3>

<h4>a) 设备信息收集接口</h4>

<blockquote>
<p>此接口用于收集设备信息（初始化时调用）</p>

<p>请求地址：<a href="http://oscollect.rastargames.com/v1/Device/deviceCl/">http://oscollect.rastargames.com/v1/Device/deviceCl/</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>Y</td>
<td>--</td>
<td>当前SDK版本</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>package_name</td>
<td>Y</td>
<td>--</td>
<td>底层包名</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>mac</td>
<td>Y</td>
<td>--</td>
<td>安卓</td>
</tr>
<tr>
<td>imei</td>
<td>Y</td>
<td>--</td>
<td>安卓</td>
</tr>
<tr>
<td>idfa</td>
<td>Y</td>
<td>--</td>
<td>IOS</td>
</tr>
<tr>
<td>idfv</td>
<td>Y</td>
<td>--</td>
<td>IOS</td>
</tr>
<tr>
<td>wpi</td>
<td>Y</td>
<td>--</td>
<td>屏幕分辨率（水平）</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>hpi</td>
<td>Y</td>
<td>--</td>
<td>屏幕分辨率（垂直）</td>
</tr>
<tr>
<td>net</td>
<td>Y</td>
<td>--</td>
<td>当前的网络类型</td>
</tr>
<tr>
<td>os</td>
<td>Y</td>
<td>--</td>
<td>平台系统：ios/andriod</td>
</tr>
<tr>
<td>os_ver</td>
<td>Y</td>
<td>--</td>
<td>系统版本</td>
</tr>
<tr>
<td>app_device</td>
<td>Y</td>
<td>--</td>
<td>游戏的唯一设备标识</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<p>成功返回ok,失败返回fail</p>

<h4>b) 埋点数据收集接口</h4>

<blockquote>
<p>此接口用于收集埋点数据</p>

<p>请求地址：<a href="http://oscollect.rastargames.com/v1/SdkRunLog/runLogCl/">http://oscollect.rastargames.com/v1/SdkRunLog/runLogCl/</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>Y</td>
<td>--</td>
<td>当前SDK版本</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>100</td>
<td>广告id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>run_id</td>
<td>Y</td>
<td>--</td>
<td>执行id md5(app_id + timestamp + 随机数)</td>
</tr>
<tr>
<td>action</td>
<td>Y</td>
<td>--</td>
<td>SDK运行节点名称</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
</tbody></table>

<blockquote>
<p>SDK运行节点说明(action)：</p>
</blockquote>

<table><thead>
<tr>
<th>节点名称</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>init</td>
<td>SDK初始化</td>
</tr>
<tr>
<td>init_success</td>
<td>SDK初始化成功</td>
</tr>
<tr>
<td>login</td>
<td>登录页面</td>
</tr>
<tr>
<td>gc_login</td>
<td>GameCenter登录</td>
</tr>
<tr>
<td>gc_login_success</td>
<td>GameCenter登录成功</td>
</tr>
<tr>
<td>gp_login</td>
<td>GooglePlay登录</td>
</tr>
<tr>
<td>gp_login_success</td>
<td>GooglePlay登录成功</td>
</tr>
<tr>
<td>fb_login</td>
<td>FaceBook登录</td>
</tr>
<tr>
<td>fb_login_success</td>
<td>FaceBook登录成功</td>
</tr>
<tr>
<td>vs_login</td>
<td>游客登录</td>
</tr>
<tr>
<td>vs_login_success</td>
<td>游客登录成功</td>
</tr>
<tr>
<td>email_login</td>
<td>邮箱登录页面</td>
</tr>
<tr>
<td>email_login_success</td>
<td>邮箱登录成功</td>
</tr>
<tr>
<td>forget_pwd</td>
<td>忘记密码页面</td>
</tr>
<tr>
<td>forget_pwd_success</td>
<td>找回密码成功</td>
</tr>
<tr>
<td>sl_login</td>
<td>静默登录</td>
</tr>
<tr>
<td>sl_login_success</td>
<td>静默登录成功</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<p>成功返回ok,失败返回fail</p>

<h4>c) SDK错误日志收集接口</h4>

<blockquote>
<p>此接口用于收集SDK运行错误信息</p>

<p>请求地址：<a href="http://oscollect.rastargames.com/v1/SdkRunLog/errorLogCl/">http://oscollect.rastargames.com/v1/SdkRunLog/errorLogCl/</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>Y</td>
<td>--</td>
<td>当前SDK版本</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>action</td>
<td>Y</td>
<td>--</td>
<td>SDK运行节点名称</td>
</tr>
<tr>
<td>error_msg</td>
<td>Y</td>
<td>--</td>
<td>错误详细信息</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
</tbody></table>

<blockquote>
<p>SDK运行节点说明(action)：</p>
</blockquote>

<table><thead>
<tr>
<th>节点名称</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>error_init</td>
<td>SDK初始化失败</td>
</tr>
<tr>
<td>error_login</td>
<td>登录失败</td>
</tr>
<tr>
<td>error_pay</td>
<td>充值失败</td>
</tr>
<tr>
<td>error_switch</td>
<td>切换账号失败</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<p>成功返回ok,失败返回fail</p>

<h4>d) 角色操作信息收集接口</h4>

<blockquote>
<p>此接口用于收集角色操作信息</p>

<p>请求地址：<a href="http://oscollect.rastargames.com/v1/Game/roleActionCl/">http://oscollect.rastargames.com/v1/Game/roleActionCl/</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>action</td>
<td>Y</td>
<td>--</td>
<td>角色操作：create - 创角，enter - 进入服务器，up_level - 角色升级</td>
</tr>
<tr>
<td>role_info</td>
<td>Y</td>
<td>--</td>
<td>角色信息：json数据格式</td>
</tr>
<tr>
<td>uinfo</td>
<td>Y</td>
<td>--</td>
<td>平台用户信息</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK版本</td>
</tr>
</tbody></table>

<blockquote>
<p>role_info角色信息说明：</p>
</blockquote>

<pre><code class="json">{<span class="attribute">
  "roleId</span>" : <span class="value"><span class="string">""</span></span>,//角色ID --必传
  <span class="attribute">"roleLevel" : 0,//角色等级 --必传
  "roleName" : "",//角色名称 --必传
  "serverId" : "",//服务器ID --必传
  "serverName" : "",//服务器名称 --必传
  "partyName" : "",//公会名称 --非必传 传默认值“无”
  "timeLevelUp" : "",//等级升级时间戳 --非必传 传默认值-1
  "vip" : ,//vip等级 --非必传 传默认值0
  "extra" : "",//扩展字段 --非必传 传默认值extra
  "timeCreate" : "",//创建角色时间戳 --非必传 传默认值-1
  "balance" : ""//账号余额 --非必传 传默认值0
}
</span></code></pre>

<blockquote>
<p>返回结果：</p>
</blockquote>

<p>成功返回ok,失败返回fail</p>

<h4>e) 用户进入游戏信息收集接口</h4>

<blockquote>
<p>此接口用于用户进入游戏信息收集（用户进入游戏时调用）</p>

<p>请求地址：<a href="http://oscollect.rastargames.com/v1/UserEnterGame/enter">http://oscollect.rastargames.com/v1/UserEnterGame/enter</a></p>

<p>参数说明：</p>
</blockquote>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必传</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>tm</td>
<td>Y</td>
<td>--</td>
<td>当前时间戳</td>
</tr>
<tr>
<td>cch_id</td>
<td>Y</td>
<td>100</td>
<td>渠道id</td>
</tr>
<tr>
<td>app_id</td>
<td>Y</td>
<td>100000</td>
<td>游戏id</td>
</tr>
<tr>
<td>md_id</td>
<td>Y</td>
<td>10000</td>
<td>广告id</td>
</tr>
<tr>
<td>device_id</td>
<td>Y</td>
<td>--</td>
<td>设备号</td>
</tr>
<tr>
<td>device_brand</td>
<td>Y</td>
<td>--</td>
<td>设备品牌</td>
</tr>
<tr>
<td>device_model</td>
<td>Y</td>
<td>--</td>
<td>设备型号</td>
</tr>
<tr>
<td>time_zone</td>
<td>Y</td>
<td>--</td>
<td>所在时区（例：Asia/Shanghai）</td>
</tr>
<tr>
<td>sys_language</td>
<td>Y</td>
<td>--</td>
<td>系统语言</td>
</tr>
<tr>
<td>sign</td>
<td>Y</td>
<td>--</td>
<td>签名</td>
</tr>
<tr>
<td>access_token</td>
<td>Y</td>
<td>--</td>
<td>加密token</td>
</tr>
<tr>
<td>ad_id</td>
<td>N</td>
<td>--</td>
<td>广告id</td>
</tr>
<tr>
<td>sdk_ver</td>
<td>N</td>
<td>--</td>
<td>SDK版本</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果：</p>
</blockquote>

<p>成功返回ok,失败返回fail</p>

</body>
</html>